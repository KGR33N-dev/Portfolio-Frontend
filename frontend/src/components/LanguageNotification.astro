---
const showNotification = Astro.url.searchParams.has('redirected');
---

{showNotification && (
  <div 
    class="fixed top-20 right-4 bg-blue-100 dark:bg-blue-900 border border-blue-300 dark:border-blue-700 text-blue-800 dark:text-blue-200 px-4 py-2 rounded-lg shadow-lg z-50"
    id="language-notification"
  >
    <div class="flex items-center justify-between">
      <span class="text-sm">
        üåê We've detected your language preference and redirected you automatically.
      </span>
      <button 
        class="ml-3 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200"
        onclick="document.getElementById('language-notification').style.display='none'"
        aria-label="Close notification"
      >
        ‚úï
      </button>
    </div>
  </div>
)}

<script>
  // Auto-hide notification after 5 seconds
  if (document.getElementById('language-notification')) {
    setTimeout(() => {
      const notification = document.getElementById('language-notification');
      if (notification) {
        notification.style.opacity = '0';
        setTimeout(() => {
          notification.style.display = 'none';
        }, 300);
      }
    }, 5000);
  }
</script>

<style>
  #language-notification {
    transition: opacity 0.3s ease-in-out;
  }
</style>
